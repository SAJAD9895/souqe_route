# Supabase Setup Guide

## 1. Get Credentials
1. Log in to your [Supabase Dashboard](https://supabase.com/dashboard).
2. Open your project.
3. Go to **Settings** (Gear icon at the bottom left) -> **API**.
4. Under the **Project URL** section, copy the URL.
5. Under the **Project API keys** section, copy the `anon` `public` key.

## 2. Create the Database Table
1. Go to the **SQL Editor** (Terminal icon on the left sidebar).
2. Click **New Query**.
3. Paste the following SQL code and click **Run** (bottom right).

```sql
-- Create the leads table
CREATE TABLE leads (
  id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  created_at TIMESTAMPTZ DEFAULT NOW(),
  name TEXT NOT NULL,
  email TEXT NOT NULL,
  company TEXT,
  phone TEXT,
  role TEXT,
  category TEXT,
  message TEXT
);

-- Enable Row Level Security (Recommended)
ALTER TABLE leads ENABLE ROW LEVEL SECURITY;

-- Create policy to allow ANYONE (anon) to insert data
-- This is needed for a public contact form
CREATE POLICY "Allow public inserts" 
ON leads 
FOR INSERT 
TO anon 
WITH CHECK (true);

-- Optional: Create policy to allow only authenticated users to view data
-- ( Prevents public from reading your leads )
CREATE POLICY "Allow individual read access" 
ON leads 
FOR SELECT 
USING (auth.role() = 'authenticated');
```

## 3. Connect to App
Once you have the URL and Key, create a file named `.env` in your project root and add them like this:

```env
VITE_SUPABASE_URL=your_project_url_here
VITE_SUPABASE_ANON_KEY=your_anon_key_here
```
