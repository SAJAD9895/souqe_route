# Supabase Database Setup

To support the new registration form fields, you need to update your Supabase `leads` table.

## Option 1: SQL Editor (Recommended)
Run the following SQL query in your Supabase SQL Editor to update the existing table:

```sql
-- Add new columns to the leads table
ALTER TABLE leads
ADD COLUMN first_name TEXT,
ADD COLUMN last_name TEXT,
ADD COLUMN business_activity TEXT,
ADD COLUMN brands_represented TEXT,
ADD COLUMN mobile_number TEXT,
ADD COLUMN website TEXT,
ADD COLUMN office_no TEXT,
ADD COLUMN building_name TEXT,
ADD COLUMN street TEXT,
ADD COLUMN locality TEXT,
ADD COLUMN po_box TEXT,
ADD COLUMN city TEXT,
ADD COLUMN country TEXT;

-- Make required fields NOT NULL (Optional, only if you have no existing empty rows)
-- ALTER TABLE leads ALTER COLUMN first_name SET NOT NULL;
-- ALTER TABLE leads ALTER COLUMN last_name SET NOT NULL;
-- ALTER TABLE leads ALTER COLUMN company SET NOT NULL;
-- ALTER TABLE leads ALTER COLUMN business_activity SET NOT NULL;
-- ALTER TABLE leads ALTER COLUMN phone SET NOT NULL;
-- ALTER TABLE leads ALTER COLUMN email SET NOT NULL;
-- ALTER TABLE leads ALTER COLUMN city SET NOT NULL;
-- ALTER TABLE leads ALTER COLUMN country SET NOT NULL;
```

## Option 2: Create a New Table
If you prefer to start fresh, you can drop the old table and create a new one:

```sql
DROP TABLE IF EXISTS leads;

CREATE TABLE leads (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT TIMEZONE('utc'::text, NOW()) NOT NULL,
    first_name TEXT NOT NULL,
    last_name TEXT NOT NULL,
    company TEXT NOT NULL,
    business_activity TEXT NOT NULL,
    brands_represented TEXT,
    phone TEXT NOT NULL,
    mobile_number TEXT,
    email TEXT NOT NULL,
    website TEXT,
    office_no TEXT,
    building_name TEXT,
    street TEXT,
    locality TEXT,
    po_box TEXT,
    city TEXT NOT NULL,
    country TEXT NOT NULL,
    message TEXT,
    role TEXT, -- Kept for backward compatibility if needed, or remove
    category TEXT, -- Kept for backward compatibility if needed, or remove
    status TEXT DEFAULT 'new'
);
```
